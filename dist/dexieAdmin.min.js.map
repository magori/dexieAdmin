{"version":3,"sources":["dexieAdmin.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","DbManagerController","$scope","$log","$uibModal","$timeout","$route","dbManagerService","_this","this","dbManager","tables","getTables","selectedTable","selectedTableIndex","configOnRefresh","displayData","countTupleForEachTable","toDelete","$inject","$event","classCss","promise","_this2","stopPropagation","element","angular","find","addClass","then","removeClass","animate","loadAll","table","load","objet","add","hasActionLoad","hasDelete","createDb","_this3","ids","keys","forEach","id","push","reolveIdsToDelete","delete","deleteAllTable","drop","dump","fileDump","Math","ceil","size","loadDump","_this4","reader","FileReader","onload","loadEvent","db","eval","result","alert","readAsText","dumpTable","textSearch","_this5","search","dataTable","$digest","_this6","data","primaryKeyName","checkAllForDelete","index","_this7","columns","resolveColumns","buildData","list","displayModal","isNewValue","_this8","tempalte","displaySimple","displayEditConfig","name","open","controller","objetData","$uibModalInstance","json","$$hashKey","toJson","editorLoaded","jsonEditor","set","expandAll","options","mode","modes","history","obj","dispalyDelete","del","deleteObject","nbRow","close","save","error","fromJson","cancel","dismiss","templateUrl","controllerAs","resolve","_this9","get","2","NgDexieAdminDirective","directive","restrict","template","_dbManager","bindToController","./dbManager.controller","3","_ngDexieAdmin","service","DbManagerService","scope","fileread","link","attributes","bind","changeEvent","$apply","files","$parse","fileInput","assign","./dbManager/ngDexieAdmin.directive","./service/dbManager.service","4","DbDump","rn","_config","dbName","tableDef","createTblesDef","toArray","objects","JSON","stringify","defTables","map","primKeyAndIndexes","schema","primKey","concat","indexes","schemaSyntax","src","join","tablesToExclude","arguments","undefined","self","tablesFiltred","filter","includes","Promise","verno","defs","p","all","dumpDataTable","finally","5","_typeof","Symbol","iterator","constructor","_dbDumpService","ngDexieAdminConfig","config","previsouSearch","onRefresh","getDb","orderTables","dbDump","actionsLoad","resolveConfigType","context","onNewDb","confOrder","tableOrder","order","sort","b","findIndex","splice","unshift","tableName","conf","columnsToDisplay","indexe","selectedTableIndexes","dottedIndexes","inedex","split","reduce","type","tablesConfig","tableConfig","resolveActionLoad","trashConfig","put","object","pk","clear","bulkDelete","countTupleTable","action","Pormise","Dexie","version","stores","createFileAndDowload","talbe","count","nb","_this10","toUpperCase","indexOf","v","valstring","valuesToString","_ret","substr","_ret2","trim","toLowerCase","isNaN","parseFloat","isFinite","text","Blob","url","window","URL","createObjectURL","document","createElement","style","display","href","download","Date","getTime","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","values","hasOwnProperty","val","path","replace","currentPaht","k","j","tableParser","./dbDump.service.js"],"mappings":"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","file":"dexieAdmin.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DbManagerController = exports.DbManagerController = function () {\n  DbManagerController.$inject = [\"$scope\", \"$log\", \"$uibModal\", \"$timeout\", \"$route\", \"dbManagerService\"];\n  function DbManagerController($scope, $log, $uibModal, $timeout, $route, dbManagerService) {\n    'ngInject';\n\n    var _this = this;\n\n    _classCallCheck(this, DbManagerController);\n\n    this.$timeout = $timeout;\n    this.$log = $log;\n    this.$scope = $scope;\n    this.$route = $route;\n    this.$uibModal = $uibModal;\n    this.dbManager = dbManagerService;\n    this.tables = this.dbManager.getTables();\n    this.selectedTable = this.tables[0];\n    this.selectedTableIndex = 0;\n    this.dbManager.configOnRefresh(function () {\n      _this.tables = _this.dbManager.getTables();\n      _this.displayData(_this.selectedTableIndex);\n    });\n    dbManagerService.countTupleForEachTable();\n    this.toDelete = {};\n  }\n\n  _createClass(DbManagerController, [{\n    key: \"animate\",\n    value: function animate($event, classCss, promise) {\n      var _this2 = this;\n\n      $event.stopPropagation();\n      var element = angular.element($event.target);\n      var i = element.find(\"i\");\n      if (i.length) {\n        element = i;\n      }\n      element.addClass(classCss + \" animated\");\n      promise.then(function () {\n        return _this2.$timeout(function () {\n          return element.removeClass(classCss + \" animated\");\n        });\n      });\n    }\n  }, {\n    key: \"loadAll\",\n    value: function loadAll($event) {\n      this.animate($event, 'fa-spin', this.dbManager.loadAll());\n    }\n  }, {\n    key: \"load\",\n    value: function load($event, table) {\n      this.animate($event, 'fa-spin', this.dbManager.load(table));\n    }\n  }, {\n    key: \"add\",\n    value: function add(table, objet) {\n      this.animate($event, 'faa-flash', this.dbManager.add(table, objet));\n    }\n  }, {\n    key: \"hasActionLoad\",\n    value: function hasActionLoad(table) {\n      return this.dbManager.hasActionLoad(table);\n    }\n  }, {\n    key: \"hasDelete\",\n    value: function hasDelete(table) {\n      return this.dbManager.hasDelete(table);\n    }\n  }, {\n    key: \"createDb\",\n    value: function createDb() {\n      return this.dbManager.createDb();\n    }\n  }, {\n    key: \"reolveIdsToDelete\",\n    value: function reolveIdsToDelete() {\n      var _this3 = this;\n\n      var ids = [];\n      if (this.toDelete) {\n        Object.keys(this.toDelete).forEach(function (id) {\n          if (_this3.toDelete[id]) {\n            ids.push(id * 1);\n          }\n        });\n      }\n      return ids;\n    }\n  }, {\n    key: \"nbDataToDelete\",\n    value: function nbDataToDelete() {\n      return this.reolveIdsToDelete().length;\n    }\n  }, {\n    key: \"deleteSelected\",\n    value: function deleteSelected($event) {\n      var ids = this.reolveIdsToDelete();\n      this.animate($event, 'faa-flash', this.dbManager.delete(this.selectedTable, ids));\n    }\n  }, {\n    key: \"deleteAllDb\",\n    value: function deleteAllDb($event) {\n      this.animate($event, 'faa-flash', this.dbManager.deleteAllTable());\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete($event, table) {\n      this.animate($event, 'faa-flash', this.dbManager.delete(table));\n    }\n  }, {\n    key: \"forceDelete\",\n    value: function forceDelete($event, table) {\n      this.animate($event, 'faa-flash', this.dbManager.delete(table));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop($event) {\n      this.animate($event, 'faa-flash', this.dbManager.drop());\n    }\n  }, {\n    key: \"dump\",\n    value: function dump($event) {\n      this.animate($event, 'faa-flash', this.dbManager.dump());\n    }\n  }, {\n    key: \"dumpSizeInKo\",\n    value: function dumpSizeInKo() {\n      if (this.fileDump) {\n        return Math.ceil(this.fileDump.size / 1024);\n      }\n    }\n  }, {\n    key: \"loadDump\",\n    value: function loadDump() {\n      var _this4 = this;\n\n      var reader = new FileReader();\n      reader.onload = function (loadEvent) {\n        _this4.dbManager.drop().then(function () {\n          var db;\n          eval(loadEvent.target.result);\n          delete _this4.fileDump;\n          alert(\"Dump loaded, reload the application\");\n          //this.$route.reload();\n        });\n      };\n      reader.readAsText(this.fileDump);\n    }\n  }, {\n    key: \"cancelDump\",\n    value: function cancelDump() {\n      delete this.fileDump;\n    }\n  }, {\n    key: \"save\",\n    value: function save($event, table) {\n      this.animate($event, 'faa-flash', this.dbManager.dumpTable(table));\n    }\n  }, {\n    key: \"search\",\n    value: function search(textSearch) {\n      var _this5 = this;\n\n      this.dbManager.search(textSearch, this.selectedTable).then(function (result) {\n        _this5.dataTable = result;\n        _this5.$scope.$digest();\n      });\n    }\n  }, {\n    key: \"checkAll\",\n    value: function checkAll() {\n      var _this6 = this;\n\n      this.dataTable.forEach(function (data) {\n        return _this6.toDelete[data[_this6.dbManager.primaryKeyName(_this6.selectedTable)]] = _this6.checkAllForDelete;\n      });\n    }\n  }, {\n    key: \"addOrRmoveToDelete\",\n    value: function addOrRmoveToDelete($event, id) {\n      $event.stopPropagation();\n    }\n  }, {\n    key: \"displayData\",\n    value: function displayData(index) {\n      var _this7 = this;\n\n      this.checkAllForDelete = false;\n      this.toDelete = {};\n      this.selectedTableIndex = index;\n      this.selectedTable = this.tables[index];\n      this.columns = this.dbManager.resolveColumns(this.selectedTable);\n      this.dbManager.buildData(this.selectedTable).then(function (list) {\n        return _this7.dataTable = list;\n      }).then(function () {\n        return _this7.$scope.$digest();\n      });\n    }\n  }, {\n    key: \"addNewData\",\n    value: function addNewData() {\n      this.displayModal({}, true);\n    }\n  }, {\n    key: \"displayModal\",\n    value: function displayModal(data, isNewValue) {\n      var _this8 = this;\n\n      var tempalte = \"displayJson.html\";\n      var displaySimple = false;\n      if ('simple' == this.dbManager.displayEditConfig(this.selectedTable.name)) {\n        displaySimple = true;\n        tempalte = \"displayJsonSimple.html\";\n      }\n      this.$uibModal.open({\n        controller: ['$scope', 'objetData', '$uibModalInstance', '$timeout', function ($scope, objetData, $uibModalInstance, $timeout) {\n          var json = objetData;\n          delete json.$$hashKey;\n          if (displaySimple) {\n            json = angular.toJson(objetData, true);\n          } else {\n            $scope.editorLoaded = function (jsonEditor) {\n              jsonEditor.set(objetData);\n              if (!isNewValue) {\n                $timeout(function () {\n                  jsonEditor.expandAll();\n                }, 150);\n              }\n            };\n            $scope.options = {\n              \"mode\": isNewValue ? 'text' : \"tree\",\n              \"modes\": [\"tree\", \"text\"],\n              \"history\": true\n            };\n          }\n\n          $scope.obj = { data: json, dispalyDelete: !isNewValue };\n\n          $scope.del = function () {\n            _this8.dbManager.deleteObject(_this8.selectedTable, objetData).then(function () {\n              _this8.selectedTable.nbRow = _this8.selectedTable.nbRow - 1;\n              _this8.displayData(_this8.selectedTableIndex);\n              $uibModalInstance.close($scope.obj.data);\n            });\n          };\n          $scope.save = function () {\n            $scope.error = null;\n            var objet = $scope.obj.data;\n            if (displaySimple) {\n              try {\n                objet = angular.fromJson(objet);\n              } catch (e) {\n                $scope.error = e;\n              }\n            }\n            if (!$scope.error) {\n              if (isNewValue) {\n                _this8.selectedTable.nbRow = _this8.selectedTable.nbRow + 1;\n              }\n              _this8.dbManager.save(_this8.selectedTable, objet).then(function () {\n                _this8.displayData(_this8.selectedTableIndex);\n                $uibModalInstance.close($scope.obj.data);\n              });\n            }\n          };\n          $scope.cancel = function () {\n            $uibModalInstance.dismiss('cancel');\n          };\n        }],\n        templateUrl: tempalte,\n        controllerAs: 'jsonCtrl',\n        size: 'lg',\n        resolve: {\n          objetData: function objetData() {\n            return data;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"displayRow\",\n    value: function displayRow(id) {\n      var _this9 = this;\n\n      this.selectedTable.get(id).then(function (data) {\n        _this9.displayModal(data);\n      });\n    }\n  }]);\n\n  return DbManagerController;\n}();\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NgDexieAdminDirective = NgDexieAdminDirective;\n\nvar _dbManager = require('./dbManager.controller');\n\nfunction NgDexieAdminDirective() {\n  'ngInject';\n\n  var directive = {\n    restrict: 'E',\n    template: '<script type=\"text/ng-template\" id=\"displayJson.html\"><div class=\"modal-body\"> <div ng-jsoneditor=\"editorLoaded\" ng-model=\"obj.data\" options=\"options\" style=\"height: 70vh;\"></div> </div> <div class=\"modal-footer\"> <button ng-if=\"obj.dispalyDelete\" class=\"btn btn-danger\" type=\"button\" ng-click=\"del()\">Delete</button> <button class=\"btn btn-primary\" type=\"button\" ng-click=\"save()\">Save</button> <button class=\"btn btn-warning\" type=\"button\" ng-click=\"cancel()\">Cancel</button> </div></script><script type=\"text/ng-template\" id=\"displayJsonSimple.html\"><div ng-show=\"error!=null\" class=\"alert alert-danger fade in\"> <a ng-click=\"error=null\"class=\"close\" data-dismiss=\"alert\">&times;</a> {{error.message}} </div> <div class=\"modal-body\"> <textarea ng-model=\"obj.data\" style=\"height: 70vh;\" class=\"form-control\"></textarea> </div> <div class=\"modal-footer\"> <button ng-if=\"obj.dispalyDelete\" class=\"btn btn-danger\" type=\"button\" ng-click=\"del()\">Delete</button> <button class=\"btn btn-primary\" type=\"button\" ng-click=\"save()\">Save</button> <button class=\"btn btn-warning\" type=\"button\" ng-click=\"cancel()\">Cancel</button> </div></script><div class=\"row\"><div class=\"col-xs-3\"><div class=\"panel panel-default\"><div class=\"panel-heading clearfix\"><div class=\"btn-toolbar\" role=\"toolbar\"><div class=\"pull-left panel-title\"><span class=\"badge\">{{ dbManger.tables.length}}</span></div><div class=\"btn-group pull-right\"><div ng-click=\"dbManger.dump($event)\" class=\"btn btn-default\" title=\"Dump\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i></div><div ng-click=\"dbManger.loadAll($event)\" class=\"btn btn-default\" title=\"Load all\"><i class=\"fa fa-refresh\" aria-hidden=\"true\"></i></div><div ng-click=\"dbManger.deleteAllDb($event)\" class=\"btn btn-default\" title=\"Empty DB\"><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i></div><div ng-click=\"dbManger.drop($event)\" class=\"btn btn-danger\" title=\"Drop\"><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i></div></div></div></div><div class=\"list-group\" ng-repeat=\"(index,table) in dbManger.tables track by table.name\" ng-click=\"dbManger.displayData(index)\"><div class=\"list-group-item\" ng-class=\"dbManger.selectedTable.name===table.name ? \\'active\\':\\'\\'\" style=\"cursor:pointer\"><div class=\"list-group-item-heading clearfix\"><div class=\"pull-left panel-title\"><span class=\"badge\">{{table.nbRow}}</span> <span class=\"panel-title\" style=\"padding-top: 7.5px;\">{{table.name}}</span></div><div class=\"btn-group pull-right\"><div ng-if=\"dbManger.hasActionLoad(table)\" ng-click=\"dbManger.load($event,table)\" class=\"btn btn-default\" title=\"Load table\"><i class=\"fa fa-refresh\" aria-hidden=\"true\"></i></div><div ng-click=\"dbManger.save($event, table)\" class=\"btn btn-default\" title=\"Dump table\"><i class=\"fa fa-floppy-o\" fa-stack-1x aria-hidden=\"true\"></i></div><div ng-if=\"dbManger.hasDelete(table)\" ng-click=\"dbManger.delete($event, table)\" class=\"btn btn-default\" title=\"Clear table\"><i class=\"fa fa-trash-o\" fa-stack-1x aria-hidden=\"true\"></i></div><div ng-if=\"!dbManger.hasDelete(table)\" ng-click=\"dbManger.forceDelete($event, table)\" class=\"btn btn-danger\" title=\"Force clear table\"><i class=\"fa fa-trash-o\" fa-stack-1x aria-hidden=\"true\"></i></div></div></div><p class=\"list-group-item-text\"><i class=\"fa fa-key\" aria-hidden=\"true\"></i> {{table.schema.primKey.name}} : {{table.schema.primKey.auto}}</p><p class=\"list-group-item-text\"></p><p>index: <span ng-repeat=\"indexe in table.schema.indexes\">{{indexe.src}}&nbsp;</span></p><p></p></div></div></div></div><div class=\"col-xs-9\"><div class=\"panel panel-default\"><div class=\"panel-heading clearfix\">{{dbManger.selectedTable.name}}<div class=\"pull-right\"><div ng-style=\"dbManger.nbDataToDelete()?{opacity:100}:{opacity:0}\" ng-click=\"dbManger.deleteSelected($event, table)\" class=\"btn btn-default\" title=\"Delete selected data\">{{dbManger.nbDataToDelete()}} <i class=\"fa fa-trash-o\" fa-stack-1x aria-hidden=\"true\"></i></div><label ng-show=\"dbManger.fileDump\" class=\"btn btn-primary\" ng-click=\"dbManger.loadDump()\">Load DumpFile : <strong>{{dbManger.fileDump.name}}</strong> ({{dbManger.dumpSizeInKo()}}ko)</label> <label ng-show=\"dbManger.fileDump\" class=\"btn btn-danger\" ng-click=\"dbManger.cancelDump()\">Cancel</label> <label class=\"btn btn-default btn-file\"><i class=\"fa fa-folder-open-o\" aria-hidden=\"true\"></i> Browse for dump<input type=\"file\" style=\"display: none;\" fileread=\"dbManger.fileDump\" ng-model=\"dbManger.fileDump\"></label><div ng-click=\"dbManger.addNewData($event, table)\" class=\"btn btn-default\" title=\"Add new data\"><i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i></div></div></div><div class=\"panel-body\"><form><div class=\"row\"><div class=\"form-group col-xs-12\"><div class=\"input-group input-group\"><span class=\"input-group-addon\"><i class=\"fa fa-search\" aria-hidden=\"true\"></i></span> <input type=\"text\" class=\"form-control\" ng-change=\"dbManger.search(dbManger.searchValue)\" ng-model-options=\"{ debounce: 250 }\" ng-model=\"dbManger.searchValue\"> <span class=\"input-group-addon\"><span class=\"badge\">{{dbManger.dataTable.length}}</span></span></div></div></div></form><div style=\"height: 70vh !important;overflow-y: auto;\"><table class=\"table table-striped table-condensed\"><colgroup><col class=\"del\"><col class=\"{{::dbManger.selectedTable.schema.primKey.name}}\"><col ng-repeat=\"indexe in dbManger.selectedTable.schema.indexes\" class=\"{{::indexe.name}}\"></colgroup><thead><tr><th><input type=\"checkbox\" name=\"del\" ng-click=\"dbManger.checkAll()\" ng-model=\"dbManger.checkAllForDelete\"></th><th><i class=\"fa fa-key\" aria-hidden=\"true\"></i>PK</th><th ng-repeat=\"indexe in dbManger.columns\">{{::indexe}}</th></tr></thead><tbody><tr ng-repeat=\"data in dbManger.dataTable | limitTo:150\" ng-click=\"dbManger.displayRow(data[dbManger.selectedTable.schema.primKey.name])\"><td><input type=\"checkbox\" ng-click=\"$event.stopPropagation()\" ng-model=\"dbManger.toDelete[data[dbManger.selectedTable.schema.primKey.name]]\" name=\"del\"></td><td>{{data[dbManger.selectedTable.schema.primKey.name]}}</td><td ng-repeat=\"indexe in dbManger.columns\">{{data[indexe]}}</td></tr></tbody></table></div></div></div></div></div>',\n    controller: _dbManager.DbManagerController,\n    controllerAs: 'dbManger',\n    bindToController: true\n  };\n\n  return directive;\n}\n},{\"./dbManager.controller\":1}],3:[function(require,module,exports){\n'use strict';\n\nvar _dbManager = require('./service/dbManager.service');\n\nvar _ngDexieAdmin = require('./dbManager/ngDexieAdmin.directive');\n\nangular.module('ng.dexieadmin', ['ui.bootstrap', 'ng.jsoneditor']).service('dbManagerService', _dbManager.DbManagerService).directive('ngDexieAdmin', _ngDexieAdmin.NgDexieAdminDirective).directive(\"fileread\", [function () {\n    return {\n        scope: {\n            fileread: \"=\"\n        },\n        link: function link(scope, element, attributes) {\n            element.bind(\"change\", function (changeEvent) {\n                scope.$apply(function () {\n                    scope.fileread = changeEvent.target.files[0];\n                });\n            });\n        }\n    };\n}]).directive('fileInput', ['$parse', function ($parse) {\n    return {\n        restrict: 'A',\n        link: function link(scope, element, attributes) {\n            element.bind('change', function () {\n                $parse(attributes.fileInput).assign(scope, element[0].files);\n                scope.$apply();\n            });\n        }\n    };\n}]);;\n},{\"./dbManager/ngDexieAdmin.directive\":2,\"./service/dbManager.service\":5}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DbDump = function () {\n    function DbDump() {\n        'ngInject';\n\n        _classCallCheck(this, DbDump);\n\n        this.rn = \"\\r\\n\";\n    }\n\n    _createClass(DbDump, [{\n        key: \"config\",\n        value: function config(_config) {\n            if (_config) {\n                this.db = _config.db;\n                this.dbName = this.db.name + \"\";\n                this.tables = this.db.tables;\n                this.tableDef = this.createTblesDef(this.tables);\n            }\n        }\n    }, {\n        key: \"dumpTable\",\n        value: function dumpTable(table) {\n            var _this = this;\n\n            return table.toArray(function (list) {\n                var rn = _this.rn;\n                var objects = JSON.stringify(list);\n                return rn + \"//-\" + table.name + rn + \" db.\" + table.name + \".bulkPut(\" + objects + \")\";\n            });\n        }\n    }, {\n        key: \"createTblesDef\",\n        value: function createTblesDef(tables) {\n            var defTables = {};\n            tables.map(function (table) {\n                var primKeyAndIndexes = [table.schema.primKey].concat(table.schema.indexes);\n                var schemaSyntax = primKeyAndIndexes.map(function (index) {\n                    return index.src;\n                }).join(',');\n                defTables[table.name] = schemaSyntax;\n            });\n            return defTables;\n        }\n    }, {\n        key: \"dump\",\n        value: function dump() {\n            var _this2 = this;\n\n            var tablesToExclude = arguments.length <= 0 || arguments[0] === undefined ? \"\" : arguments[0];\n\n            var db = this.db,\n                self = this,\n                rn = this.rn;\n            var tablesFiltred = db.tables.filter(function (table) {\n                return !tablesToExclude.includes(table.name);\n            });\n            var promise = new Promise(function (resolve) {\n                db.open().then(function () {\n                    var dump = \"var db = new Dexie('\" + db.name + \"') \" + rn + \" db.version(\" + db.verno + \").stores({ \" + rn;\n                    var defs = self.createTblesDef(tablesFiltred);\n                    dump = dump + Object.keys(defs).map(function (key) {\n                        var schemaSyntax = defs[key];\n                        return \"  \" + key + \": '\" + schemaSyntax + \"'\";\n                    }).join(\",\" + rn);\n                    return \"\" + rn + dump + \"});\" + rn;\n                }).then(function (dump) {\n                    var p = tablesFiltred.map(function (table) {\n                        return self.dumpTable(table);\n                    });\n                    Promise.all(p).then(function (dumpDataTable) {\n                        resolve(dump + \"//#### Datas #####\" + _this2.rn + dumpDataTable.join(\";\") + \";\");\n                    });\n                    return dump;\n                }).finally(function () {\n                    //db.close();\n                });\n            });\n            return promise;\n        }\n    }]);\n\n    return DbDump;\n}();\n\nexports.DbDump = DbDump;\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DbManagerService = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global Pormise:false*/\n\n\nvar _dbDumpService = require('./dbDump.service.js');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DbManagerService = function () {\n  DbManagerService.$inject = [\"ngDexieAdminConfig\"];\n  function DbManagerService(ngDexieAdminConfig) {\n    'ngInject';\n\n    _classCallCheck(this, DbManagerService);\n\n    this.config(ngDexieAdminConfig);\n    this.previsouSearch = \"\";\n    this.onRefresh = function () {};\n  }\n\n  _createClass(DbManagerService, [{\n    key: 'config',\n    value: function config(_config) {\n      this.config = _config;\n      this.db = _config.getDb();\n      this.tables = this.orderTables(this.db.tables);\n      this.dbDump = new _dbDumpService.DbDump();\n      this.dbDump.config({\n        db: this.db\n      });\n      var actionsLoad = this.resolveConfigType('load');\n      this.actionsLoad = actionsLoad;\n      this.context = _config.context;\n      if (_config.onNewDb) {\n        this.onNewDb = _config.onNewDb();\n      }\n    }\n  }, {\n    key: 'getTables',\n    value: function getTables() {\n      return this.tables;\n    }\n  }, {\n    key: 'orderTables',\n    value: function orderTables(tables) {\n      var confOrder = this.resolveConfigType('order');\n      var tableOrder = [];\n      for (var key in confOrder) {\n        tableOrder.push({ name: key, order: confOrder[key] });\n      }\n      tableOrder.sort(function (a, b) {\n        return b.order - a.order;\n      });\n      tableOrder.map(function (order) {\n        var index = tables.findIndex(function (t) {\n          return t.name == order.name;\n        });\n        var table = tables.splice(index, 1)[0];\n        tables.unshift(table);\n      });\n      return tables;\n    }\n  }, {\n    key: 'columnsToDisplay',\n    value: function columnsToDisplay(tableName) {\n      return this.resolveConfigType('columns')[tableName];\n    }\n  }, {\n    key: 'displayEditConfig',\n    value: function displayEditConfig(tableName) {\n      var conf = this.resolveConfigType('displayEdit');\n      if (conf) {\n        return conf[tableName];\n      }\n      return null;\n    }\n  }, {\n    key: 'fieldsConfig',\n    value: function fieldsConfig(tableName) {\n      var conf = this.resolveConfigType('fields');\n      if (conf) {\n        return conf[tableName];\n      }\n      return null;\n    }\n  }, {\n    key: 'resolveColumns',\n    value: function resolveColumns(table) {\n      var columns = this.columnsToDisplay(table.name);\n      if (!columns) {\n        columns = {};\n      }\n      table.schema.indexes.forEach(function (indexe) {\n        if (columns[indexe.name] === undefined) {\n          columns[indexe.name] = true;\n        }\n      });\n      var columnsToDisplay = [];\n      columnsToDisplay = Object.keys(columns).filter(function (key) {\n        var conf = columns[key];\n        if (conf === false) {\n          return false;\n        }\n        return true;\n      });\n      return columnsToDisplay;\n    }\n  }, {\n    key: 'buildData',\n    value: function buildData(table) {\n      var selectedTableIndexes = this.resolveColumns(table);\n      var dottedIndexes = selectedTableIndexes.filter(function (inedex) {\n        return inedex.includes(\".\");\n      });\n      var indexes = [];\n      dottedIndexes.forEach(function (indexe) {\n        indexes.push({\n          key: indexe,\n          value: indexe.split('.')\n        });\n      });\n      return table.toArray().then(function (list) {\n        list.map(function (data) {\n          indexes.forEach(function (indexe) {\n            var key = indexe.key;\n            var value = indexe.value;\n\n            data[key] = value.reduce(function (obj, key) {\n              return obj[key] ? obj[key] : '';\n            }, data);\n          });\n          return data;\n        });\n        return list;\n      }).then(function (list) {\n        return list;\n      });\n    }\n  }, {\n    key: 'resolveConfigType',\n    value: function resolveConfigType(type) {\n      var _this = this;\n\n      var config = {};\n      if (this.config.tablesConfig) {\n        Object.keys(this.config.tablesConfig()).forEach(function (table) {\n          var tableConfig = _this.config.tablesConfig()[table];\n          if (tableConfig && tableConfig[type] != undefined) {\n            config[table] = tableConfig[type];\n          }\n        });\n      }\n      return config;\n    }\n  }, {\n    key: 'configOnRefresh',\n    value: function configOnRefresh(call) {\n      this.onRefresh = call;\n    }\n  }, {\n    key: 'hasActionLoad',\n    value: function hasActionLoad(table) {\n      return this.resolveActionLoad(table);\n    }\n  }, {\n    key: 'hasDelete',\n    value: function hasDelete(table) {\n      var trashConfig = this.resolveConfigType('noDelete');\n      if (trashConfig[table.name] === false || trashConfig[table.name] === undefined) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'resolveActionLoad',\n    value: function resolveActionLoad(table) {\n      return this.actionsLoad[table.name];\n    }\n  }, {\n    key: 'deleteAllTable',\n    value: function deleteAllTable() {\n      var _this2 = this;\n\n      return Promise.all(this.tables.map(function (table) {\n        return _this2.hasDelete(table) ? _this2.delete(table) : false;\n      }));\n    }\n  }, {\n    key: 'add',\n    value: function add(table, objet) {\n      return table.put(objet);\n    }\n  }, {\n    key: 'save',\n    value: function save(table, objet) {\n      return table.put(objet);\n    }\n  }, {\n    key: 'deleteObject',\n    value: function deleteObject(table, object) {\n      var pk = this.primaryKeyName(table);\n      return table.delete(object[pk]);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(table, ids) {\n      var _this3 = this;\n\n      var promise = new Promise(function () {});\n      if (table && !ids) {\n        promise = table.clear();\n      } else if (table && ids) {\n        promise = table.bulkDelete(ids);\n      }\n      return promise.then(function () {\n        return _this3.countTupleTable(table);\n      }).then(function () {\n        return _this3.onRefresh();\n      });\n    }\n  }, {\n    key: 'loadAll',\n    value: function loadAll() {\n      var _this4 = this;\n\n      return Promise.all(this.tables.map(function (table) {\n        return _this4.load(table);\n      }));\n    }\n  }, {\n    key: 'load',\n    value: function load(table) {\n      var _this5 = this;\n\n      var action = this.resolveActionLoad(table);\n      if (action) {\n        var promise = this.context ? action.call(this.context) : action(),\n            self = this;\n        if (promise && promise.then) {\n          return promise.then(function () {\n            return self.countTupleTable(table);\n          }).then(function () {\n            return _this5.onRefresh();\n          });\n        } else {\n          return new Pormise(function () {\n            _this5.countTupleTable(table);\n            _this5.onRefresh();\n          });\n        }\n      }\n    }\n  }, {\n    key: 'createDb',\n    value: function createDb() {\n      var db = new Dexie(this.dbDump.dbName + \"ddd\");\n      db.version(1).stores(this.dbDump.tableDef);\n      return db;\n    }\n  }, {\n    key: 'drop',\n    value: function drop() {\n      var _this6 = this;\n\n      return this.db.delete().then(function () {\n        return _this6.createDb();\n      }).then(function (db) {\n        db.open().then(function () {\n          _this6.db = db;\n          _this6.tables = db.tables;\n          if (_this6.onNewDb) {\n            _this6.onNewDb(_this6.db);\n          }\n          _this6.dbDump.config({\n            db: db\n          });\n          _this6.countTupleForEachTable();\n        });\n      });\n    }\n  }, {\n    key: 'dumpAsSting',\n    value: function dumpAsSting(tablesToExclude) {\n      return this.dbDump.dump(tablesToExclude);\n    }\n  }, {\n    key: 'dump',\n    value: function dump(tablesToExclude) {\n      var _this7 = this;\n\n      return this.dbDump.dump().then(function (dump) {\n        return _this7.createFileAndDowload(dump);\n      });\n    }\n  }, {\n    key: 'dumpTable',\n    value: function dumpTable(talbe) {\n      var _this8 = this;\n\n      return this.dbDump.dumpTable(talbe).then(function (dump) {\n        return _this8.createFileAndDowload(dump);\n      });\n    }\n  }, {\n    key: 'countTupleForEachTable',\n    value: function countTupleForEachTable() {\n      var _this9 = this;\n\n      var i = 0;\n      var size = this.tables.length;\n      var f = function f() {\n        if (i < size) {\n          _this9.countTupleTable(_this9.tables[i]).then(function () {\n            i++;\n            f();\n          });\n        } else {\n          _this9.onRefresh();\n        }\n      };\n      f();\n    }\n  }, {\n    key: 'countTupleTable',\n    value: function countTupleTable(table) {\n      return table.count().then(function (nb) {\n        table.nbRow = nb;\n      });\n    }\n  }, {\n    key: 'primaryKeyName',\n    value: function primaryKeyName(table) {\n      return table.schema.primKey.name;\n    }\n  }, {\n    key: 'search',\n    value: function search(textSearch, table) {\n      var _this10 = this;\n\n      var search = textSearch.toUpperCase();\n      if (search.indexOf(\":\") == 0) {\n        var _ret = function () {\n          var t = search.substr(1).split(\"=\");\n          if (t.length > 1) {\n            var _ret2 = function () {\n              var key = t[0].trim().toLowerCase();\n              return {\n                v: {\n                  v: _this10.buildData(table).then(function (list) {\n                    if (list[0][key]) {\n                      list = list.filter(function (v) {\n                        var value = v[key];\n                        if (!isNaN(parseFloat(value)) && isFinite(value)) {\n                          return value == t[1] * 1;\n                        } else {\n                          return value.toUpperCase().includes(t[1]);\n                        }\n                      });\n                    }\n                    return list;\n                  })\n                }\n              };\n            }();\n\n            if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n          }\n          return {\n            v: new Promise(function () {})\n          };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n      } else {\n        return this.buildData(table).then(function (list) {\n          list = list.map(function (v) {\n            v.valstring = _this10.valuesToString(v);\n            return v;\n          }).filter(function (v) {\n            return v.valstring.includes(search);\n          });\n          return list;\n        });\n      }\n    }\n  }, {\n    key: 'createFileAndDowload',\n    value: function createFileAndDowload(text) {\n      var data = new Blob([text], {\n        type: 'text/plain'\n      });\n      var url = window.URL.createObjectURL(data);\n      var a = document.createElement('a');\n      a.style.display = \"none\";\n      a.href = url;\n      a.download = \"dump_\" + new Date().getTime() + \".txt\";\n      document.body.appendChild(a);\n      a.click();\n      setTimeout(function () {\n        document.body.removeChild(a);\n        window.URL.revokeObjectURL(url);\n      }, 50);\n    }\n  }, {\n    key: 'valuesToString',\n    value: function valuesToString(obj) {\n      var values = arguments.length <= 1 || arguments[1] === undefined ? '' : arguments[1];\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var val = obj[key];\n          if (val instanceof Object) {\n            values = values + this.valuesToString(val);\n          } else {\n            values = values + ' ' + obj[key];\n          }\n        }\n      }\n      return values.toUpperCase();\n    }\n  }, {\n    key: 'tableParser',\n    value: function tableParser(obj, path) {\n      var s = path.replace(/^\\./, ''); // strip a leading dot\n      var a = s.split('.');\n      var currentPaht = \"\";\n      var t = [];\n      var o = obj;\n      for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        currentPaht = currentPaht + (currentPaht ? \".\" : \"\") + k;\n        //\"t[].child[].age\")\n        if (k in o) {\n          o = o[k];\n        } else if (k.indexOf('[]')) {\n          k = k.replace('[]', '');\n          t.push(o[k].length);\n          o = o[k][0];\n          for (var j = 0; j < o.length; j++) {\n            //console.log(o[i]);\n            this.tableParser(o[i], currentPaht);\n          }\n        }\n      }\n      return t;\n    }\n  }]);\n\n  return DbManagerService;\n}();\n\nexports.DbManagerService = DbManagerService;\n},{\"./dbDump.service.js\":4}]},{},[3]);\n"],"sourceRoot":"/source/"}